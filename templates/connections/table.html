<div class="row g-4">
    {% for conn in connections %}
    <div class="col-md-6 col-lg-4">
        <div class="card h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start mb-3">
                    <div>
                        <h5 class="card-title mb-1">{{ conn.display_name.as_deref().unwrap_or(conn.name.as_str()) }}</h5>
                        <small class="text-muted">{{ conn.name }}</small>
                    </div>
                    <span class="badge bg-primary">{{ conn.strategy|fmt("{:?}") }}</span>
                </div>
                
                {% match conn.enabled_clients %}
                {% when Some with (enabled_clients) %}
                <p class="small text-muted mb-2">
                    <i class="bi bi-app me-1"></i>{{ enabled_clients.len() }} application(s)
                </p>
                {% when None %}
                {% endmatch %}
                
                <code class="small d-block text-truncate">{{ conn.id }}</code>
            </div>
            <div class="card-footer bg-transparent">
                <a href="/connections/{{ conn.id }}" class="btn btn-sm btn-outline-primary">
                    <i class="bi bi-gear me-1"></i>Configure
                </a>
            </div>
        </div>
    </div>
    {% else %}
    <div class="col-12">
        <div class="alert alert-info">No connections found</div>
    </div>
    {% endfor %}
</div>
